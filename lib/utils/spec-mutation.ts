import type { UIMessage } from \"ai\";\nimport type { SpecDataPart } from \"@json-render/core\";\nimport { SPEC_DATA_PART_TYPE } from \"@json-render/core\";\nimport type { Spec } from \"@json-render/react\";\n\ntype AppMessage = UIMessage<unknown, { \"json-render:spec-data\": SpecDataPart }>;\n\n/**\n * Utility function to update a spec within a message's parts array\n * This updates the spec in-place without creating new message nodes\n */\nexport function updateSpecInMessage(\n  message: AppMessage,\n  newSpec: Spec\n): AppMessage {\n  const newParts = message.parts.map((part) => {\n    if (part.type === SPEC_DATA_PART_TYPE) {\n      return {\n        ...part,\n        data: newSpec,\n      };\n    }\n    return part;\n  });\n\n  return {\n    ...message,\n    parts: newParts,\n  };\n}
